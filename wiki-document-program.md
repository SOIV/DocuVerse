# 프로젝트 문서 프로그램 설계

## 1. 프로그램 기획 및 목적

### 프로그램 개발 방향성
이 프로그램은 앞서 설계한 문서 시스템 라이브러리를 기반으로 하되, Obsidian과 같은 지식 관리 도구및 노션과 같은 노트앱의 장점을 결합한 데스크톱/웹 애플리케이션입니다.<br>
노션의 사용성과 VSCode의 직관적인 인터페이스와 너무 심풀하지 않은 디자인 차용하여 사용자 친화적인 환경을 제공하는 것이 목표입니다.<br>
조금 더 직관적으로 보자면 '하이브리드 노트앱'이라고 보는 정도로 환경을 제공하고 그러한 서비스를 하고자 하는 것이 최대 목표이다.

사용되는 에디터 라이브러리 관련 내용 : [wiki-document-system.md](idea-box\wiki-document-system.md)

### 차용 및 서비스에 참고 목록
- Notion :: https://www.notion.com/
- Obsidian :: https://obsidian.md/
- Slashpage :: https://slashpage.com/
- Craft :: https://www.craft.do/
- Oopy(우피) :: https://www.oopy.io/
- VScode :: https://code.visualstudio.com/
- Cursor :: https://www.cursor.com/
- Google Sheets :: https://workspace.google.com/intl/ko/products/sheets/

### 주요 목적
- **하이브리드 저장 방식**: 로컬 저장과 클라우드 저장을 병행하여 사용자가 선택할 수 있는 유연성 제공
- **AI 기반 생산성 향상**: 내장 MCP(Multiple Chat Providers)를 통한 AI 활용 기능 제공
- **최적화된 사용자 경험**: Obsidian의 단점을 보완하고 VSCode/노션의 장점을 결합한 직관적인 인터페이스
- **도구 통합**: 문서 작성, 코드 편집, 지식 관리를 하나의 애플리케이션에서 가능하게 함

### 노션 대비 장점
1. **파일 기반 저장**: 로컬 파일 시스템에 저장되어 데이터 소유권 및 이동성 보장
2. **오프라인 우선 접근**: 인터넷 연결 없이도 완전한 기능 사용 가능
3. **확장성**: 플러그인 시스템을 통한 무한 확장 가능성
4. **커스터마이징**: 사용자 정의 테마 및 스타일링 지원
5. **성능**: 서버 지연 없는 빠른 반응성
6. **프라이버시**: 민감한 데이터를 로컬에만 저장 가능

### Obsidian 대비 장점
1. **현대적 UI**: VSCode/노션 스타일의 보다 직관적인 인터페이스와 너무 심풀하지 않는 디자인
2. **통합 AI 지원**: 내장 MCP로 다양한 AI 서비스 활용 가능
3. **향상된 협업**: 클라우드 저장 선택 시 실시간 협업 기능 제공
4. **우수한 표 기능**: 나무위키 스타일의 강력한 표 편집 기능
5. **코드 지원**: 개발자를 위한 향상된 코드 편집 기능

---

## 2. 프로그램 아키텍처

### 데스크톱 애플리케이션
- **크로스 플랫폼**: Electron 기반으로 Windows, macOS, Linux 지원
- **성능 최적화**: 가상 DOM 및 효율적인 렌더링으로 대규모 문서 작업에도 빠른 응답성 제공
- **모듈식 설계**: 기능별 모듈화로 사용자가 필요한 기능만 활성화 가능

### 저장 시스템
1. **로컬 저장 방식**
   - 기본 저장소는 로컬 파일 시스템
   - Git 통합으로 버전 관리 자동화 (선택 사항)
   - 마크다운 파일 기반으로 다른 도구와 호환성 유지
   - 오프라인 우선 접근으로 인터넷 연결 없이도 완전한 기능 보장

2. **클라우드 저장 방식 (선택적)**
   - AWS/Azure 기반 마이크로서비스 아키텍처의 자체 클라우드 서비스
   - AES-256 암호화로 데이터 보안 강화
   - 변경된 부분만 전송하는 델타 동기화로 대역폭 절약
   - CRDT 기반 충돌 해결 알고리즘으로 일관성 보장
   - 서버 부하 분산을 위한 요청 큐잉 시스템 구현
   - 표준 포맷(Markdown, JSON) 기반 내보내기 기능 제공

3. **하이브리드 워크플로우**
   - 사용자 지정 동기화 방식: 즉시/배치/예약/수동 선택 가능
   - 변경 크기에 따른 스마트 동기화 전략 자동 적용
   - 오프라인 변경사항 충돌 시 GUI 기반 병합 도구 제공
   - 문서/폴더별 동기화 정책 설정으로 선택적 공유 가능
   - 네트워크 상태 감지로 최적 전송 시점 자동 결정

4. **서버 부하 최적화**
   - 클라이언트 측에서 렌더링, 검색, 초기 충돌 해결 처리로 서버 부담 경감
   - 오토스케일링 인프라로 사용자 증가에 탄력적 대응
   - 비동기 작업 처리로 중요 작업 우선순위 보장
   - 리전별 데이터 복제로 지역별 접근 속도 최적화
   - 데이터베이스 샤딩 및 캐싱 전략으로 대규모 사용자 지원

---

## 3. 프로그램 핵심 기능

### 인증 및 계정 관리
1. **소셜 로그인 통합**
   - Google 계정 연동
   - Apple 계정 연동
   - GitHub 계정 연동
   - 사용자 인증 정보 보안 강화
   - 개인정보 최소화 접근법

2. **계정 관리 시스템**
   - 사용자 프로필 및 설정 관리
   - 기기 접근 관리 및 로그아웃
   - 계정 연결 관리 (API 키, 서비스 연동)
   - 계정 보안 관련 알림 및 설정

### 인터페이스 및 UX
1. **현대적 사용자 인터페이스**
   - 효율적인 패널 및 탭 시스템 (개발 도구 스타일)
   - 직관적인 블록 기반 에디터
   - 시각 모드 전환 (다크/라이트) 및 커스텀 테마 지원
   - 반응형 레이아웃으로 다양한 화면 크기 대응

2. **워크스페이스 관리**
   - 다중 작업공간 지원
   - 탭 기반 문서 편집
   - 분할 보기로 여러 문서 동시 작업
   - 사용자 정의 단축키 및 명령 팔레트

### 지식 관리 기능
1. **연결된 지식 체계**
   - 양방향 링크 및 백링크 시스템
   - 그래프 뷰로 문서 간 관계 시각화
   - 태그 시스템 및 YAML 프론트매터 지원
   - 자동 링크 추천 및 관련 문서 표시

2. **검색 및 탐색**
   - 전체 텍스트 검색 (Ripgrep 기반)
   - 파일 내용 미리보기
   - 태그, 속성, 내용 기반 필터링
   - 최근 문서 및 즐겨찾기 관리

### 문서 작성 및 편집
1. **고급 블록 기반 에디터**
   - 위키 스타일 문법 지원으로 풍부한 표현력
   - 실시간 미리보기 및 양방향 편집
   - 문서 내 이미지, 파일, 미디어 임베딩
   - 코드 블록 구문 강조 및 실행

2. **특수 컨텐츠 블록**
   - 수학 식 (LaTeX) 지원
   - 시각화 도구 (다이어그램, 차트, 그래프)
   - 생산성 도구 (칸반 보드, 타임라인)
   - 구조화된 데이터 (데이터베이스, 테이블 뷰)

### 개발자 도구
1. **코드 편집 기능**
   - VSCode와 유사한 코드 에디터 내장
   - 구문 강조 및 자동 완성
   - 린팅 및 포맷팅 도구 통합
   - 소스 코드 버전 관리 (Git 통합)

2. **개발 플러그인**
   - 언어별 개발 환경 설정
   - 터미널 액세스
   - 빌드 및 테스트 통합
   - API 문서 연동

---

## 4. 확장성 및 플러그인 시스템

### 플러그인 아키텍처
1. **핵심 및 커뮤니티 플러그인**
   - 핵심 기능을 플러그인으로 모듈화
   - 사용자 제작 플러그인 지원
   - 플러그인 마켓플레이스 제공
   - 버전 관리 및 자동 업데이트

2. **API 및 SDK**
   - 명확한 플러그인 개발 API 제공
   - 개발자 문서 및 예제
   - 개발 템플릿 및 스캐폴딩 도구
   - 테스트 및 배포 가이드라인

### 테마 및 스타일링
1. **테마 시스템**
   - CSS 변수 기반 테마링
   - 사용자 정의 테마 생성 및 공유
   - 시스템/앱 테마 연동
   - 폰트, 아이콘, 색상 사용자화

2. **레이아웃 커스터마이징**
   - 드래그 앤 드롭 인터페이스 구성
   - 패널 및 사이드바 위치 조정
   - 사용자 정의 대시보드
   - 보기 모드 및 집중 모드

---

## 5. AI 통합 및 MCP(Multiple Chat Providers) 시스템

### MCP 아키텍처 개요
1. **지원 AI 서비스**
   - OpenAI (ChatGPT, GPT-4)
   - Anthropic (Claude)
   - Google (Gemini)
   - 사용자가 API 키를 등록하여 사용 가능한 모든 AI 서비스

2. **MCP 구현 상세**
   - 사용자가 직접 API 키를 등록하여 사용하는 방식
   - 모든 사용 가능한 AI 서비스 지원
   - 통일된 프롬프트 형식 및 응답 처리
   - 모델별 특성을 활용하는 최적화된 통합

3. **컨텍스트 관리**
   - 대화 컨텍스트 저장 및 복원
   - 문서 컨텍스트 자동 제공
   - 프로젝트 단위 컨텍스트 설정
   - 컨텍스트 최적화 및 요약

### AI 보조 기능
1. **문서 작성 보조**
   - 텍스트 생성 및 편집 제안
   - 문법 및 맞춤법 검사
   - 스타일 조정 및 요약
   - 다국어 번역 및 교정

2. **지식 관리 보조**
   - 자동 태그 및 카테고리 추천
   - 관련 문서 연결 제안
   - 정보 추출 및 구조화
   - 질문 응답 및 정보 검색

3. **코드 보조**
   - 코드 생성 및 완성
   - 버그 찾기 및 수정 제안
   - 코드 설명 및 문서화
   - 알고리즘 최적화 제안

4. **사용자 정의 AI 도구**
   - 사용자 정의 프롬프트 템플릿
   - AI 작업 자동화 워크플로우
   - 사용자 훈련된 버전 저장
   - 특정 작업별 최적 AI 모델 추천

---

## 6. 동기화 및 백업 시스템

### 클라우드 동기화 메커니즘
1. **실시간 동기화**
   - 변경 사항 실시간 감지 및 동기화
   - 충돌 해결 알고리즘
   - 선택적 동기화 (폴더/파일 단위)
   - 대역폭 및 자원 사용 최적화
   - 자체 클라우드 서비스를 통한 안정적인 데이터 관리

2. **다중 기기 지원**
   - 데스크톱, 모바일, 웹 간 원활한 동기화
   - 기기별 사용자 설정 유지
   - 오프라인 작업 및 나중에 동기화
   - 기기 간 활동 추적
   - 외부 기기로 파일 이동을 위한 표준 포맷 내보내기

### 백업 및 복구
1. **자동 백업 시스템**
   - 정기적 자동 백업
   - 버전 기록 및 복원 지점
   - 클라우드 및 로컬 백업 옵션
   - 증분 백업으로 저장 공간 효율화

2. **데이터 이식성**
   - 표준 파일 형식 사용 (마크다운, JSON)
   - 가져오기/내보내기 도구
   - 타사 서비스 마이그레이션 지원
   - 아카이브 및 내보내기 옵션

---

## 7. 협업 기능

### 공유 및 권한 관리
1. **문서 공유**
   - 문서가 클라우드에 업로드된 경우에만 공유 기능 활성화
   - 노션 스타일의 공유 설정 UI (상단 아이콘으로 공유 상태 표시)
   - 권한 수준 설정 (읽기/댓글/편집)
   - 만료 시간 및 액세스 제한 설정
   - 우피(oopy.io) 스타일의 고급 공유 설정 옵션

2. **팀 작업공간**
   - 팀 구성 및 관리
   - 역할 기반 접근 제어
   - 팀 활동 로그 및 대시보드
   - 프로젝트 관리 도구 통합

### 실시간 협업
1. **동시 편집**
   - CRDT 기반 실시간 편집
   - 편집자 표시 및 커서 공유
   - 변경 사항 하이라이트
   - 충돌 해결 메커니즘

2. **소통 도구**
   - 인라인 댓글 및 논의
   - 알림 및 멘션 시스템
   - 변경 사항 추적 및 리뷰
   - 화상 및 음성 연결 (선택적)

---

## 8. 모바일 및 웹 지원

### 모바일 애플리케이션
1. **크로스 플랫폼 앱**
   - iOS 및 Android 네이티브 앱
   - 데스크톱 버전과 기능 일관성
   - 모바일 최적화 UI
   - 오프라인 작업 지원

2. **모바일 특화 기능**
   - 카메라 통합 (문서 스캔, OCR)
   - 위치 기반 노트 및 태그
   - 음성 메모 및 받아쓰기
   - 알림 및 위젯 지원
   - 모바일 기기 최적화 AI 기능 (기기 성능에 맞춘 경량 모델 처리)
   - PDF 파일 주석 및 필기 기능 (모바일 펜 지원)

### 웹 애플리케이션
1. **브라우저 기반 액세스**
   - 모든 주요 브라우저 지원
   - PWA(Progressive Web App) 기능
   - 데스크톱 앱과 동일한 핵심 기능
   - 로컬 스토리지 활용 오프라인 지원

2. **웹 특화 기능**
   - 웹 클리퍼 확장 프로그램
   - 북마클릿 지원
   - 외부 서비스 임베딩 (Figma, Trello 등)
   - 소셜 미디어 공유 최적화

---

## 9. 성능 및 리소스 관리

### 성능 최적화
1. **대규모 문서 처리**
   - 가상화된 렌더링으로 대용량 문서 처리
   - 점진적 로딩 및 렌더링
   - 메모리 사용 최적화
   - 백그라운드 인덱싱 및 검색 최적화

2. **네트워크 최적화**
   - 델타 동기화로 데이터 전송 최소화
   - 압축 및 캐싱 전략
   - 낮은 대역폭 환경 지원
   - 우선순위 기반 리소스 로딩

### 시스템 자원 관리
1. **리소스 사용 최적화**
   - CPU 및 메모리 사용 모니터링
   - 자동 절전 모드 및 성능 모드
   - 배터리 친화적 동작
   - 사용하지 않는 기능 자동 중지

2. **저장소 관리**
   - 파일 압축 및 최적화
   - 미디어 자동 리사이징
   - 중복 파일 감지 및 관리
   - 저장소 분석 및 정리 도구

---

## 10. 구독 모델 및 수익화 전략

### 구독 등급 체계
1. **무료 플랜**
   - 기본 문서 편집 및 지식 관리 기능
   - 무제한 로컬 저장 기능
   - 제한된 공유 기능 (최대 3명과 공유 가능)
   - 기본 API 통합 (모든 외부 AI 서비스 API 사용 가능)
   - 개인 사용자 중심

2. **프로 플랜 (월 $9.99 또는 연 $99)**
   - 확장된 공유 기능 (최대 20명과 공유)
   - 사용자 정의 도메인으로 문서 공유 가능
   - 고급 협업 기능 (댓글, 알림, 멘션)
   - 우선 지원 및 업데이트 (베타 기능 조기 접근)
   - 프로 전용 플러그인 접근권

3. **플래티넘 플랜 (월 $19.99 또는 연 $199)**
   - 무제한 공유 및 협업 기능
   - 고급 권한 관리 및 접근 제어
   - 플래티넘 전용 기능 및 테마
   - 최우선 지원 및 전용 포럼
   - API 접근 및 통합 기능

4. **팀/기업 플랜 (사용자당 가격)**
   - 중앙 관리 콘솔
   - 기업급 보안 및 규정 준수 기능
   - 전용 지원 매니저
   - 사용자 정의 통합 및 API
   - 교육 및 온보딩 지원

5. **교육 플랜 (대학교 및 학교에서 생성된 이메일로 가입 또는 기존 계정에 등록하여 사용)**
   - 프로 또는 플래티넘 플랜에 포함된 모든 기능
   - 학생과 선생님에게 사용성이 좋은 추가적 별도 기능 포함
   - 수업 중 앱과 연결하여 부드러운 확장 가능성

### 추가 수익 모델
1. **마켓플레이스**
   - 프리미엄 플러그인 및 테마 판매
   - 개발자 수익 공유 모델 (80/20 or 90/10 분배)
   - 템플릿 및 워크플로우 판매

# 다국어 지원

### 기본 지원 언어
- 한국어, 영어, 일본어 기본 지원
- 사용자 인터페이스 및 도움말 3개 언어 완전 지원
- 기본 라이브러리 문서 및 가이드 3개 언어 제공

### 언어 설정
- 시스템 언어 자동 감지 및 적용
- 사용자 정의 언어 설정 옵션
- 문서별 언어 설정 가능 (다국어 문서 작성 지원)

## 버전 관리

### 문서 버전 관리
- 노션/깃허브 스타일의 버전 히스토리 관리
- 특정 시점으로 문서 복원 기능
- 버전 간 차이점 시각적 표시
- 자동 저장 및 버전 생성 간격 설정

### 협업 버전 관리
- 문서 접근 및 편집 상태 실시간 표시 (구글 시트 방식)
- 사용자별 커서 위치 및 선택 영역 표시
- 편집 충돌 자동 감지 및 해결 제안
- 변경 사항 승인 및 거부 워크플로우

## 파일 마이그레이션

### 지원 서비스 및 포맷
- 노션, Obsidian 데이터 가져오기
- HTML, Markdown, CSV 파일 가져오기
- 기존 작업물 원형 보존 가능한 마이그레이션 도구
- 일괄 가져오기 및 구조 유지 옵션

### 변환 및 최적화
- 가져온 콘텐츠 자동 최적화
- 링크 및 참조 구조 보존
- 미디어 파일 자동 포함
- 변환 프리셋 및 사용자 정의 옵션

## PDF 기능 향상

### PDF 통합 기능
- PDF 파일 뷰어 내장
- 모바일 기기에서 펜 지원 메모 및 주석
- PDF 텍스트 추출 및 검색
- PDF와 문서 간 링크 및 참조 생성

### PDF 고급 기능
- OCR을 통한 이미지 PDF 텍스트 인식
- PDF 주석 및 하이라이트 동기화
- PDF 내용 기반 자동 태그 및 분류 제안
- PDF 문서 자동 요약

## 11. 로드맵 및 구현 계획

### 1단계: 핵심 프로그램 개발 (3-4개월)
- 기본 에디터 통합 (기존 라이브러리 활용)
- 로컬 저장 시스템 구현
- 기본 UI/UX 설계 및 구현
- 소셜 로그인 통합 (Google, GitHub)
- 핵심 지식 관리 기능 개발

### 2단계: 클라우드 및 동기화 (2-3개월)
- 클라우드 저장 시스템 구현
- 다중 기기 동기화 메커니즘 개발
- 백업 및 복구 시스템 구축
- 기본 공유 기능 구현
- 구독 시스템 기반 구축

### 3단계: MCP 및 AI 통합 (2-3개월)
- MCP 기본 프레임워크 개발
- 주요 AI 제공자 통합
- AI 보조 기능 구현
- 사용자 정의 AI 도구 개발
- AI 사용량 측정 및 제한 시스템

### 4단계: 협업 및 확장 기능 (3-4개월)
- 실시간 협업 기능 강화
- 플러그인 시스템 구현
- 테마 및 커스터마이징 지원
- 고급 개발자 도구 통합
- 마켓플레이스 기반 구축

### 5단계: 모바일 및 웹 확장 (4-5개월)
- 모바일 앱 개발 (iOS, Android)
- 웹 애플리케이션 구현
- 크로스 플랫폼 기능 동기화
- 모바일/웹 특화 기능 개발
- 구독 및 결제 시스템 완성

---

## 12. 추가 기능 개선 아이디어

### 고급 생산성 도구
1. **스마트 작업 공간**
   - 작업 컨텍스트 기반 자동 문서 추천
   - 프로젝트별 대시보드 및 워크플로우 
   - 시간 추적 및 목표 관리 통합
   - 집중 모드 및 뽀모도로 타이머

2. **멀티미디어 통합**
   - 음성 메모 녹음 및 자동 텍스트 변환
   - 내장 화면 녹화 및 스크린샷 도구
   - PDF 주석 및 하이라이트 동기화
   - 내장 미디어 플레이어 (영상/오디오 노트)

3. **확장 데이터 시각화**
   - 대화형 그래프 및 차트 생성기
   - 데이터 테이블에서 자동 차트 생성
   - 시간선 및 프로세스 흐름도 생성
   - 맵 및 공간 데이터 시각화

### AI 고급 활용
1. **문서 분석 도구**
   - AI 기반 자동 요약 및 핵심 포인트 추출
   - 텍스트 분석 및 감정 분석
   - 문서 품질 및 가독성 분석기
   - 참고문헌 및 인용 자동 생성

2. **AI 어시스턴트 개인화**
   - 사용자 작업 스타일 학습 어시스턴트
   - 규칙 기반 자동화와 AI 조합
   - 개인별 AI 프롬프트 템플릿 라이브러리
   - 문서 컨텍스트 인식 응답

### 고급 개발 및 통합
1. **외부 서비스 통합**
   - Slack, MS Teams, Discord 등 메신저 연동
   - Jira, Trello, Asana 등 프로젝트 관리 도구 통합
   - GitHub, GitLab 등 개발 플랫폼 연동
   - Zotero, Mendeley 등 참고문헌 관리 도구 연동

2. **고급 코드 기능**
   - 실행 가능한 코드 블록 (Jupyter Notebook 스타일)
   - 내장 디버거 및 테스트 러너
   - GitHub Copilot과 같은 AI 코드 어시스턴트 통합
   - 코드 품질 및 성능 분석 도구

## 13. 기대 효과

### 사용자 이점
- **완전한 데이터 소유권**: 로컬 저장으로 데이터 소유권 보장
- **유연한 작업 방식**: 온/오프라인 모두에서 완전한 기능 사용
- **AI 강화 생산성**: 통합 AI로 작업 효율성 증대
- **확장 가능한 도구**: 플러그인으로 필요에 맞게 기능 확장
- **지식 연결 및 발견**: 연결된 지식 시스템으로 새로운 인사이트 발견
- **소셜 로그인 편의성**: 간편한 인증으로 빠른 시작과 보안 강화

### 차별화 포인트
- **하이브리드 저장 시스템**: 로컬과 클라우드의 장점을 모두 활용
- **통합 AI 시스템**: 다양한 AI 서비스를 단일 인터페이스로 활용
- **현대적 사용자 경험**: 고급 기능성과 직관적 사용성의 결합
- **고급 데이터 표현**: 위키 스타일의 표현력 있는 표 및 구조화 기능
- **개발자 지원 도구**: 코드 작성과 문서화를 통합한 환경
- **유연한 구독 체계**: 다양한 사용자 요구에 맞춘 가격 정책

### 비즈니스 가치
- **지속 가능한 수익 모델**: 구독 기반 안정적 수익 창출
- **커뮤니티 기반 생태계**: 플러그인 마켓플레이스를 통한 생태계 확장
- **사용자 충성도 제고**: 프리미엄 기능으로 높은 사용자 유지율
- **기업 시장 진출**: 팀/기업용 플랜으로 B2B 시장 확장 가능성

이 프로그램은 단순한 문서 도구를 넘어, 지식 관리와 생산성 향상, 팀 협업을 위한 종합 플랫폼으로서 사용자들의 작업 방식을 혁신할 것입니다.<br>
로컬 우선 접근법과 AI 통합, 현대적 UX, 유연한 구독 모델을 통해 기존 도구들의 한계를 극복하고 새로운 가능성을 열어줄 것입니다.